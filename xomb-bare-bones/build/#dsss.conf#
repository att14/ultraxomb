Name = xomb

CC = sparc64-sun-xomb-gcc
CFLAGS = -nostdlib -nodefaultlibs -g -DUSE_ASSERT -mcmodel=kernel

[*]
buildflags=-dc=sparc64-sun-xomb-gdc

[../kernel/core/kmain.d]
buildflags=-dc=sparc64-sun-xomb-gdc -I..

#compile the assembly for the target

prebuild= \
\
\
echo ; \
echo Setting up Architecture Dependence: sparc64; \
echo '-->architecture.d';\
mkdir -p dsss_imports;\
mkdir -p dsss_objs;\
mkdir -p dsss_objs/G;\
mkdir -p dsss_objs/O;\
cp ../kernel/arch/sparc64/imports/compile_typeinfo.sh dsss_imports/.;\
cp ../kernel/arch/sparc64/imports/architecture.d dsss_imports/.;\
echo ; \
echo Compiling Assembly for target: sparc64 ;\
echo '--> boot.S';\
sparc64-sun-xomb-as -o dsss_objs/O/kernel.arch.sparc64.boot.boot.o ../kernel/arch/sparc64/boot/boot.S -Av9 -64;\
\
\

